---
title: कई क्षेत्रों में चलाना
weight: 20
content_type: concept
---

<!-- overview -->

यह पेज कई ज़ोन में कुबेरनेट्स चलाने का वर्णन करती है।

<!-- body -->

## बैकग्राउंड

कुबेरनेट्स को इसलिये डिज़ाइन किया गया है कि एक कुबेरनेट्स क्लस्टर कई असफल क्षेत्रों में चल सके, आमतौर पर जहां ये क्षेत्र फिट होते हैं, एक तार्किक समूहन जिसे _region_ कहा जाता है। प्रमुख क्लाउड प्रदाता एक क्षेत्र को परिभाषित करते हैं असफल क्षेत्रों के एक सेट के रूप में (जिसे _availability zones_ भी कहा जाता है) जो एक क्षेत्र के भीतर सुविधाओं का एक सुसंगत सेट प्रदान करते हैं, प्रत्येक क्षेत्र समान एपीआई और सेवाएं प्रदान करता है।

विशिष्ट क्लाउड आर्किटेक्चर का उद्देश्य इस संभावना को कम करना है कि एक जोन कि असफलता से दूसरे जोन में सेवाएं बाधित हो।

## कण्ट्रोल प्लेन व्यवहार

सभी [कण्ट्रोल प्लेन कॉम्पोनेन्ट](/docs/concepts/overview/components/#control-plane-components) विनिमेय संसाधनों के पूल के रूप में चलने मे सपोर्ट करता है, प्रति दोहराये हुए कॉम्पोनेन्ट पर।

जब आप क्लस्टर कण्ट्रोल प्लेन डिप्लॉय करते हैं, तो कण्ट्रोल प्लेन कि प्रतिकृतियां एकाधिक असफल क्षेत्रों में रखें। यदि उपलब्धता एक महत्वपूर्ण चिंता है तो, कम से कम तीन असफल क्षेत्रों का चयन करें और प्रत्येक व्यक्तिगत कण्ट्रोल प्लेन कॉम्पोनेन्ट (एपीआई सर्वर, अनुसूचक, आदि, क्लस्टर नियंत्रक प्रबंधक) कम से कम तीन असफल क्षेत्रों में दोहराएं। यदि आप क्लाउड कंट्रोलर मैनेजर चला रहे हैं तो आपको चाहिए कि इसे आपके द्वारा चुने गए सभी असफलता क्षेत्रों में भी दोहराया जाये।

{{< note >}}
कुबेरनेट्स ईन्द्पोंइन्त्स एपीआई सर्वर के लिए क्रॉस-ज़ोन लचीलापन प्रदान नहीं करता है। उपलब्धता में सुधार के लिए आप विभिन्न तकनीकों का उपयोग कर सकते हैं
क्लस्टर एपीआई सर्वर, जिसमें डीएनएस राउंड-रॉबिन, एसआरवी रिकॉर्डस, या
हेल्थ चेकिंग के साथ एक तृतीय-पक्ष लोड संतुलन समाधान।
{{< /note >}}

## नोड व्यवहार

कुबेरनेट्स स्वचालित रूप से पॉड्स को फैलाता है
कार्यभार संसाधन - जैसे {{< glossary_tooltip text="डिप्लॉयमेंट" term_id="deployment" >}} or {{< glossary_tooltip text="स्टेटफुलसेट" term_id="statefulset" >}}(Deployment)
एक क्लस्टर में विभिन्न नोड्स में। यह प्रसार 
असफलताओं के प्रभाव को कम करने मे मदद करता है।

जब नोड शुरू होता है, तो प्रत्येक नोड पर क्यूबलेट स्वचालित रूप से नोड ऑब्जेक्ट के लिए {{< glossary_tooltip text="लेबल्स (labels)" term_id="label" >}} जोर देता है जो कुबेरनेट्स एपीआई में उस विशिष्ट क्यूबलेट का प्रतिनिधित्व करता है।
इन लेबल में [क्षेत्र की जानकारी](/docs/reference/labels-annotations-taints/#topologykubernetesiozone) शामिल हो सकते हैं।

यदि आपका क्लस्टर कई प्रदेश या क्षेत्रों में फैला है, तो आप नोड लेबलस का उपयोग [पॉड टोपोलॉजी फैलाव में प्रतिबंध](/docs/concepts/workloads/pods/pod-topology-spread-constraints/) के साथ संयोजन के रूप में कर सकते हैं।
यह नियंत्रित करने के लिए कि आपके क्लस्टर में फॉल्ट डोमेन के बीच पॉड कैसे फैले हैं: प्रदेश, क्षेत्रों, और यहां तक ​​कि विशिष्ट नोड्स।
ये संकेत {{< glossary_tooltip text="scheduler" term_id="kube-scheduler" >}} 
बेहतर अपेक्षित उपलब्धता के लिए पॉड्स को जगह देने में सक्षम बनाते हैं, सहसंबद्ध जोखिम को कम करते हैं क्योंकि असफलता आपके पूरे कार्यभार को प्रभावित करती है।

उदाहरण के लिए, आप यह सुनिश्चित करने के लिए एक प्रतिबंध लगा सकते हैं यह जानने के लिए कि, स्टेटफुलसेट की 3 प्रतिकृतियां अलग-अलग क्षेत्रों में चल रही हैं। आप इसे घोषणात्मक रूप से परिभाषित कर सकते हैं स्पष्ट रूप से परिभाषित किए बिना कि प्रत्येक वर्कलोड कौन से उपलब्धता क्षेत्र के उपयोग में हैं।

### क्षेत्रों में नोड्स वितरित करना

कुबेरनेट्स का कोर आपके लिए नोड नहीं बनाता है, आपको इसे स्वयं करने की आवश्यकता है, या अपनी ओर से नोड्स को प्रबंधित करने के लिए [Cluster API](https://cluster-api.sigs.k8s.io/) जैसे टूल का उपयोग करें।

क्लस्टर एपीआई जैसे उपकरणों का उपयोग करके आप कई असफल डोमेन में अपने क्लस्टर के लिए कार्यकर्ता नोड्स के रूप में चलने के लिए मशीनों के सेट को परिभाषित कर सकते हैं यह नियम पूरे क्षेत्र में सेवा बाधित होने की स्थिति में क्लस्टर को स्वचालित रूप से ठीक कर देता है।

## पॉड्स के लिए मैनुअल ज़ोन असाइनमेंट

आप [नोड चयनकर्ता बाधाओं](/docs/concepts/scheduling-eviction/assign-pod-node/#nodeselector) को आपके द्वारा बनाए गए पॉड्स में लागू कर सकते हैं, साथ-साथ वर्कलोड संसाधनों में पॉड टेम्प्लेट के लिए जैसे डिप्लॉयमेंट, स्टेटफुलसेट, या नौकरी में भी लागू कर सकते हैं।

## क्षेत्रों के लिए स्टोरेज एक्सेस

जब परसिस्टेंट वॉल्यूम बनाए जाते हैं, तो `PersistentVolumeLabel`
[प्रवेश नियंत्रक](/docs/reference/access-authn-authz/admission-controllers/)
स्वचालित रूप से किसी भी परसिस्टेंट वॉल्यूम को ज़ोन लेबल में जोड़ता है जो किसी विशिष्ट क्षेत्र से जुड़े होते हैं। तब {{< glossary_tooltip text="शेड्यूलर" term_id="kube-scheduler" >}} सुनिश्चित करता है कि अपने `NoVolumeZoneConflict` विधेय के माध्यम से, वह पॉड्स जो किसी दिए गए परसिस्टेंट वॉल्यूम का दावा करते हैं केवल उस वॉल्यूम के समान क्षेत्र में रखे जाते हैं।

आप एक परसिस्टेंट वॉल्यूम कलेम्स के लिए {{< glossary_tooltip text="भंडारण का वर्ग" term_id="storage-class" >}} निर्दिष्ट कर सकते हैं जो असफल डोमेन (ज़ोन) को निर्दिष्ट करता है कि उस वर्ग में भंडारण का उपयोग कर सकते हैं।
स्टोरेज क्लास को कॉन्फ़िगर करने के बारे में जानने के लिए 
[अनुमति टोपोलॉजी](/docs/concepts/storage/storage-classes/#allowed-topologies)देखें जो असफलता डोमेन या ज़ोन से अवगत है।

## नेटवर्किंग

अपने आप से, कुबेरनेट्स में ज़ोन-अवेयर नेटवर्किंग शामिल नहीं है। आप एक क्लस्टर नेटवर्किंग को कॉन्फ़िगर करने के लिए [नेटवर्क प्लगइन](/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/) का उपयोग कर सकते हैं और उस नेटवर्क समाधान में ज़ोन-विशिष्ट हो सकता है।
उदाहरण के लिए, यदि आपका क्लाउड प्रदाता `टाइप = लोडबैलेंसर` के साथ सेवाओं का समर्थन करता है तो लोड बैलेंसर शायद केवल पॉड में चल रहे पॉड्स को ट्रैफिक भेज सकता है किसी दिए गए कनेक्शन को संसाधित करने वाले लोड बैलेंसर तत्व के समान क्षेत्र।
विवरण के लिए अपने क्लाउड प्रदाता के दस्तावेज़ देखें।

कस्टम या ऑन-प्रिमाइसेस डिप्लॉयमेंटस के लिए, समान विचार लागू होते हैं।
{{< glossary_tooltip text="Service" term_id="service" >}} और
{{< glossary_tooltip text="Ingress" term_id="ingress" >}} व्यवहार, जिसमें 
अलग-अलग क्षेत्रों में असफलता हैंडलिंग भी शामिल है, यह आपके क्लस्टर की स्थापना के तरीके के आधार पर भिन्न होता है।

## फॉल्ट रिकवरी

जब आप अपना क्लस्टर सेट करते हैं, तो आपको यह भी विचार करना पड़ सकता है कि यदि किसी क्षेत्र में एक ही समय में सभी विफल हो जाते हैं तो आपका सेटअप क्या और कैसे सेवा बहाल कर सकता है। उदाहरण के लिए, क्या आप कम से कम इस पर भरोसा करते हैं कि एक नोड एक क्षेत्र में पॉड्स चलाने में सक्षम है?
सुनिश्चित करें कि कोई भी क्लस्टर-महत्वपूर्ण मरम्मत कार्य निर्भर नहीं करता है
आपके क्लस्टर में कम से कम एक स्वस्थ नोड होने पर। उदाहरण के लिए: यदि सभी नोड्स
अस्वस्थ हैं, आपको एक विशेष के साथ मरम्मत कार्य चलाने की आवश्यकता हो सकती है
{{< glossary_tooltip text="टोलरेशन" term_id="toleration" >}} ताकि मरम्मत
कम से कम एक नोड को सेवा में लाने के लिए पर्याप्त रूप से पूरा कर सकता है।

कुबेरनेट्स इस चुनौती का कोई जवाब नहीं लेकर आया; हालांकि, यह विचार करने के लिए कुछ है।

## {{% heading "whatsnext" %}}

यह जानने के लिए कि शेड्यूलर पॉड्स को क्लस्टर में कैसे रखता है, कॉन्फ़िगर की गई बाधाओं का सम्मान कैसे करता है, इसे देखें [शेड्यूलिंग और बेदखली](/docs/concepts/scheduling-eviction/)।