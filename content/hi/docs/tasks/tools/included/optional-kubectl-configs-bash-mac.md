---
title: "macOS पर bash ऑटो-कम्पलीशन"
description: "macOS पर bash ऑटो-कम्पलीशन के लिए कुछ वैकल्पिक कॉन्फ़िगरेशन।"
headless: true
---

### परिचय

Bash के लिए kubectl समापन स्क्रिप्ट `kubectl completion bash` कमांड के साथ उत्पन्न की जा सकती है। आपके शेल में समापन स्क्रिप्ट को सोर्स करने से kubectl ऑटोकम्पलीशन सक्षम हो जाती है।```

हालाँकि, kubectl कम्पलीशन स्क्रिप्ट बैश कम्पलीशन पर निर्भर करती है जिसे आपको पहले इनस्टॉल करना होगा।

{{चेतावनी>}} बैश कम्पलीशन के लिये दो संस्करण हैं  v1 और v2. v1 bash 3.2 के लिये हैं (जो की macOS के लिए निर्धारित हैं ), और v2 bash 4.1 + के लिए हैं |   
Kubectl कम्पलीशन स्क्रिप्ट  बैश-कम्पलीशन v1 और बैश 3.2 के साथ ठीक से काम नहीं करती है। इसके लिए बैश-कम्पलीशन v2 और बैश 4.1+ की आवश्यकता है।
इसलिए macOS पर kubectl कम्पलीशन को सही तरीके से इस्तेमाल करने के लिए , आपको bash इनस्टॉल और उपयोग करना होगा | निम्नलिखित  निर्देश मानते हैं कि आप बैश का उपयोग करते हैं (अर्थात 4.1  का कोई भी बैश संस्करण या इससे नया)
{{चेतावनी>}}

### अपग्रेड बैश 

निम्नलिखित  निर्देश मानते हैं कि आप बैश 4.1+ का उपयोग करते हैं | आप अपने बैश के संस्करण को   यह चलाकर देख सकते हैं:
```bash
echo $BASH_VERSION
```

यदि यह बहुत पुराना है, तो आप Homebrew का उपयोग करके इसे इनस्टॉल/अपग्रेड कर सकते हैं :
```bash
brew install bash
```

अपना शेल को दुबारा  लोड करें और सत्यापित करें कि वांछित संस्करण का उपयोग किया जा रहा है:
```bash
echo $BASH_VERSION $SHELL
```

### इनस्टॉल बैश कम्पलीशन

{{<ध्यान दे >}}
जैसा कि उल्लेख किया गया है, ये निर्देश मानते हैं कि आप बैश 4.1+ का उपयोग करते हैं, जिसका अर्थ है कि आप बैश-पूर्णता v2 इनस्टॉल  करेंगे (बैश 3.2 और बैश-पूर्णता v1 के विपरीत, जिस स्थिति में kubectl  पूर्णता काम नहीं करेगी)।
{{<ध्यान दे >}}

आप `type_init_completion` से परीक्षण कर सकते हैं कि क्या आपके पास बैश कम्पलीशन v2 पहले से ही इनस्टॉल है | अगर नहीं, तो आप इसे Homebrew के साथ इनस्टॉल कर सकते हैं

```bash
brew install bash-completion@2
```

जैसा कि इस कमांड के आउटपुट में बताया गया है, अपनी `~/.bash_profile` फ़ाइल में निम्नलिखित जोड़ें:

```bash
export BASH_COMPLETION_COMPAT_DIR="/usr/local/etc/bash_completion.d"

[[ -r "/usr/local/etc/profile.d/bash_completion.sh" ]] && . "/usr/local/etc/profile.d/bash_completion.sh"
```
  
अपने शेल को दुबारा लोड करें और सत्यापित करें कि बैश कम्पलीशन v2 `type_init_completion` . के साथ सही ढंग से इनस्टॉल है

### इनेबल kubectl ऑटोकम्पलीशन

अब आपको यह सुनिश्चित करना होगा कि आपके सभी शेल सत्रों में kubectl कम्पलीशन स्क्रिप्ट प्राप्त हो जाए। इसे हासिल करने के कई तरीके हैं:

- अपने कम्पलीशन स्क्रिप्ट को  `~/.bash_profile`  में सोर्स करें  
```bash
echo 'source <(kubectl completion bash)' >>~/.bash_profile
```

- कम्पलीशन स्क्रिप्ट को `/usr/local/etc/bash_completion.d` डायरेक्टरी  में जोड़ें
```bash
kubectl completion bash >/usr/local/etc/bash_completion.d/kubectl
```

- यदि आपके पास kubectl के लिए एक उपनाम है, तो आप उस उपनाम के साथ काम करने के लिए शेल पूर्णता को बढ़ा सकते हैं:
```bash
echo 'alias k=kubectl' >>~/.bash_profile

echo 'complete -F __start_kubectl k' >>~/.bash_profile
```

- यदि आपने होमब्रे के साथ kubectl इनस्टॉल किया है (जैसा कि यहां बताया गया है), तो kubectl पहले से ही कम्पलीशन स्क्रिप्ट `/usr/local/etc/bash_completion.d/kubectl` में होनी चाहिए। ऐसे में आपको कुछ भी करने की जरूरत नहीं है।

{{< note >}}
bash-completion Homebrew से इनस्टॉल होने पर, सारे फाइल्स को `BASH_COMPLETION_COMPAT_DIR` डायरेक्टरी में सोर्स कर देता है। इसलिए आखरी दो तरीके काम करते हैं।
{{< /note >}}
किसी भी स्थिति में, आपके शेल को पुनः लोड करने के बाद, Kubectl पूर्णता कार्य करना चाहिए।
