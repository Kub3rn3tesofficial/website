---
reviewers:
- dchen1107
- liggitt
title: नोड्स और कंट्रोल प्लेन के बीच संचार
content_type: concept
weight: 20
aliases:
- master-node-communication
---

<!-- overview -->

यह दस्तावेज़ एपीआई सर्वर और कुबेरनेट्स क्लस्टर के बीच संचार पथों को सूचीबद्ध करता है।
इरादा उपयोगकर्ताओं को नेटवर्क कॉन्फ़िगरेशन को सख्त करने के लिए उनकी स्थापना को अनुकूलित करने की अनुमति देना है
जैसे कि क्लस्टर को एक अविश्वसनीय नेटवर्क (या क्लाउड पर पूरी तरह से सार्वजनिक आईपी) पर चलाया जा सकता है
प्रदाता)।

<!-- body -->

## विमान को नियंत्रित करने के लिए नोड

कुबेरनेट्स में "हब-एंड-स्पोक" एपीआई पैटर्न है। नोड्स से सभी एपीआई उपयोग (या उनके द्वारा चलाए जाने वाले पॉड्स)
एपीआई सर्वर पर समाप्त होता है। अन्य नियंत्रण विमान घटकों में से कोई भी बेनकाब करने के लिए डिज़ाइन नहीं किया गया है
दूरस्थ सेवाएं। सुरक्षित HTTPS पर दूरस्थ कनेक्शन सुनने के लिए API सर्वर को कॉन्फ़िगर किया गया है
पोर्ट (आमतौर पर 443) क्लाइंट के एक या अधिक रूपों के साथ
[प्रमाणीकरण][authentication](/docs/reference/access-authn-authz/authentication/) सक्षम।
[प्राधिकरण](/docs/reference/access-authn-authz/authorization/) के एक या अधिक रूप होने चाहिए
सक्षम, विशेष रूप से यदि [अनाम अनुरोध](/docs/reference/access-authn-authz/authentication/#anonymous-requests)
या [सेवा खाता टोकन](/docs/reference/access-authn-authz/authentication/#service-account-tokens)
अनुमति दी जाती है।

क्लस्टर के लिए सार्वजनिक रूट प्रमाणपत्र के साथ नोड्स का प्रावधान किया जाना चाहिए ताकि वे कर सकें
मान्य क्लाइंट क्रेडेंशियल्स के साथ एपीआई सर्वर से सुरक्षित रूप से कनेक्ट करें। एक अच्छा तरीका यह है कि
क्यूबलेट को प्रदान किए गए क्लाइंट क्रेडेंशियल क्लाइंट प्रमाणपत्र के रूप में होते हैं। देखना
[क्यूबलेट टीएलएस बूटस्ट्रैपिंग](/docs/reference/access-authn-authz/kubelet-tls-bootstrapping/)
क्यूबलेट क्लाइंट प्रमाणपत्रों के स्वचालित प्रावधान के लिए।

पॉड जो एपीआई सर्वर से जुड़ना चाहते हैं, वे सेवा खाते का लाभ उठाकर सुरक्षित रूप से ऐसा कर सकते हैं
कि कुबेरनेट्स स्वचालित रूप से सार्वजनिक रूट प्रमाणपत्र और एक वैध वाहक टोकन इंजेक्ट करेगा
फली में जब इसे तत्काल किया जाता है।
`कुबेरनेट्स` सेवा (`डिफ़ॉल्ट` नामस्थान में) एक वर्चुअल आईपी पते के साथ कॉन्फ़िगर की गई है
एपीआई सर्वर पर HTTPS समापन बिंदु पर पुनर्निर्देशित (`क्यूब-प्रॉक्सी` के माध्यम से)।

नियंत्रण विमान के घटक सुरक्षित पोर्ट पर एपीआई सर्वर के साथ भी संचार करते हैं।

नतीजतन, नोड्स और पॉड्स से कनेक्शन के लिए डिफ़ॉल्ट ऑपरेटिंग मोड चल रहा है
नियंत्रण विमान के नोड्स डिफ़ॉल्ट रूप से सुरक्षित होते हैं और अविश्वसनीय और/या सार्वजनिक रूप से चल सकते हैं
नेटवर्क।

## विमान को नोड पर नियंत्रित करें

कंट्रोल प्लेन (एपीआई सर्वर) से नोड्स तक दो प्राथमिक संचार पथ हैं।
पहला एपीआई सर्वर से क्यूबलेट प्रक्रिया है जो क्लस्टर में प्रत्येक नोड पर चलता है।
दूसरा एपीआई सर्वर से किसी भी नोड, पॉड या सेवा के लिए एपीआई सर्वर के _proxy_ के माध्यम से है
कार्यक्षमता।

क्यूबलेट के लिए ### एपीआई सर्वर

एपीआई सर्वर से क्यूबलेट के लिए कनेक्शन का उपयोग इसके लिए किया जाता है:

* पॉड के लिए लॉग लाना।
* रनिंग पॉड से जोड़ना (आमतौर पर `कुबेक्टल` के माध्यम से)।
* क्यूबलेट की पोर्ट-फ़ॉरवर्डिंग कार्यक्षमता प्रदान करना।

ये कनेक्शन क्यूबलेट के HTTPS समापन बिंदु पर समाप्त हो जाते हैं। डिफ़ॉल्ट रूप से, एपीआई सर्वर नहीं करता है
क्यूबलेट के सर्विंग सर्टिफिकेट को सत्यापित करें, जो कनेक्शन को मैन-इन-द-बीच के अधीन बनाता है
अविश्वसनीय और/या सार्वजनिक नेटवर्क पर चलने के लिए हमले और **असुरक्षित**।

इस कनेक्शन को सत्यापित करने के लिए, एपीआई प्रदान करने के लिए `--क्यूबलेट-सर्टिफिकेट-प्राधिकरण` ध्वज का उपयोग करें
क्यूबलेट के सर्विंग सर्टिफिकेट को सत्यापित करने के लिए उपयोग करने के लिए रूट सर्टिफिकेट बंडल वाला सर्वर।

यदि यह संभव नहीं है, तो एपीआई सर्वर और क्यूबलेट के बीच [SSH टनलिंग](#ssh-tunnels) का उपयोग करें यदि
a से कनेक्ट होने से बचने के लिए आवश्यक है
अविश्वसनीय या सार्वजनिक नेटवर्क।


अंत में, [क्यूबलेट प्रमाणीकरण और/या प्राधिकरण](/docs/reference/access-authn-authz/kubelet-authn-authz/)
क्यूबलेट एपीआई को सुरक्षित करने के लिए सक्षम होना चाहिए।

### एपीआई सर्वर नोड्स, पॉड्स और सेवाओं के लिए

एपीआई सर्वर से नोड, पॉड, या सेवा डिफ़ॉल्ट रूप से सादे HTTP कनेक्शन के लिए कनेक्शन
और इसलिए न तो प्रमाणित हैं और न ही एन्क्रिप्ट किए गए हैं। उन्हें एक सुरक्षित HTTPS पर चलाया जा सकता है
API URL में नोड, पॉड, या सेवा के नाम में `https:` प्रीफ़िक्स लगाकर कनेक्शन, लेकिन वे करेंगे
HTTPS समापन बिंदु द्वारा प्रदान किए गए प्रमाणपत्र को मान्य नहीं करता है और न ही क्लाइंट क्रेडेंशियल्स प्रदान करता है। इसलिए
जबकि कनेक्शन एन्क्रिप्ट किया जाएगा, यह अखंडता की कोई गारंटी नहीं देगा। इन
कनेक्शन **वर्तमान में सुरक्षित नहीं हैं** अविश्वसनीय या सार्वजनिक नेटवर्क पर चलाने के लिए।

### SSH tunnels

Kubernetes संचार पथों को नियंत्रित करने के लिए नियंत्रण विमान की सुरक्षा के लिए SSH सुरंगों का समर्थन करता है। इस में
कॉन्फ़िगरेशन, एपीआई सर्वर क्लस्टर में प्रत्येक नोड के लिए एक एसएसएच सुरंग शुरू करता है (कनेक्ट करने के लिए
SSH सर्वर पोर्ट 22 पर सुन रहा है) और क्यूबलेट, नोड, पॉड, या के लिए नियत सभी ट्रैफ़िक को पास करता है
सुरंग के माध्यम से सेवा।
यह टनल सुनिश्चित करती है कि ट्रैफ़िक उस नेटवर्क के बाहर उजागर न हो जिसमें नोड हैं
दौड़ना।

{{< नोट >}}
SSH सुरंगों को वर्तमान में पदावनत कर दिया गया है, इसलिए आपको उनका उपयोग तब तक नहीं करना चाहिए जब तक कि आप यह नहीं जानते कि आप क्या हैं
कर रहे हैं। [कनेक्टिविटी सेवा](#कनेक्टिविटी-सेवा) इसका प्रतिस्थापन है
बातचीत का माध्यम।
{{< /नोट >}}

### कनेक्टिविटी सेवा

{{< feature-state for_k8s_version="v1.18" state="beta" >}}

एसएसएच सुरंगों के प्रतिस्थापन के रूप में, कनेक्टिविटी सेवा टीसीपी स्तर की प्रॉक्सी प्रदान करती है
क्लस्टर संचार के लिए नियंत्रण विमान। कनेक्टिविटी सेवा में दो भाग होते हैं: द
कंट्रोल प्लेन नेटवर्क में कनेक्टिविटी सर्वर और नोड्स नेटवर्क में कनेक्टिविटी एजेंट।
कनेक्‍टिविटी एजेंट कनेक्‍टिविटी सर्वर से कनेक्‍शन शुरू करते हैं और नेटवर्क को बनाए रखते हैं
सम्बन्ध।
कनेक्टिविटी सेवा को सक्षम करने के बाद, नोड ट्रैफिक के सभी नियंत्रण विमान इन्हीं के माध्यम से जाते हैं
सम्बन्ध।

सेट करने के लिए [कनेक्टिविटी सर्विस टास्क](/docs/tasks/extend-kubernetes/setup-konnectivity/)  का पालन करें
अपने क्लस्टर में कनेक्टिविटी सेवा बढ़ाएँ।

