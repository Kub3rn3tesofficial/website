
<div id='browsedocsWrapper'>
<div class="browseheader" id="browsedocs">
    <a name="browsedocs">Browse Docs</a>
  </div>
<div class="browsedocs">
{{ range .sections }}
{{ template "docs-browse-section"  (dict "ctx" $.ctx "section" .) }}
{{ end }}
</div><!-- end browsedocs -->

{{ define "docs-browse-section" }}
<div class="browsesection">
  <div class="docstitle">
    {{ $isForeignLanguage := (ne $.section.Lang $.ctx.Lang)}}
    <h3><a href="{{ .RelPermalink }}"{{ if $isForeignLanguage }} target="_blank"{{ end }}>{{ .section.Params.bigheader | default .section.Title }}{{ if $isForeignLanguage }} <small>({{ .section.Lang | upper }})</small>{{ end }}</a></h3>
  </div>
  {{ partial "lang/alternative-pages.html" (dict "page" .section "adder" "pages-sections" "to" "browse_pages") }}
  {{ $pages := (where ($.section.Scratch.Get "browse_pages") ".Params.toc_hide" "!=" true) }}
  {{ if ge (len $pages) 1 }}
  <div class="pages">
  {{ $num_pages := len $pages }}
  {{ if gt $num_pages 0 }}
  {{ $column_size :=  (div $num_pages 3.0) | math.Ceil | int | default 1 }}
  {{  range $i, $e := $pages.ByWeight }}
    {{ $offset := mod $i $column_size |  add 1 }}
    {{ if eq $offset 1 }}
      <div class="browsecolumn">
    {{ end }}
    {{ $isForeignLanguage := (ne .Lang $.ctx.Lang)}}
    <a href="{{ .RelPermalink }}"{{ if $isForeignLanguage }} target="_blank"{{ end }}>{{ printf "%02d - %s" (add $i 1) .LinkTitle }}{{ if $isForeignLanguage }} <small>({{ .Lang | upper }})</small>{{ end }}</a><br>
    {{ if or (eq $offset $column_size) (eq (add $i 1) $num_pages)}}
      </div>
    {{ end }}
  {{ end }}
  {{ end }}
  </div><!-- end pages -->
  {{ end }}
</div><!-- end browsesection -->
{{ end }}
